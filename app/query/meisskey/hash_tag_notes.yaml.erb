- $sort:
    createdAt: -1
- $lookup:
    from: users
    localField: userId
    foreignField: _id
    as: user
- $match:
    tags: <%= params[:tag] %>
    visibility: <%= controller_class.visibility_name(:public) %>
    user._id:
      $ne:
        $convert:
          input: <%= test_account._id %>
          to: objectId
<% if params[:local] -%>
    _user.host: null
<% end -%>
<% if params[:limit] -%>
- $limit: <%= params[:limit] %>
<% end -%>
