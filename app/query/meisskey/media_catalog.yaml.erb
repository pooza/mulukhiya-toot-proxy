- $sort:
    createdAt: -1
- $lookup:
    from: users
    localField: userId
    foreignField: _id
    as user
- $match:
    fileIds:
      $ne: null
    user.isBot: false
    _user.host: null
    visibility:
      $in:
        - <%= params.dig(:visibilities, :public) %>
        - <%= params.dig(:visibilities, :unlisted) %>
- $skip: <%= config['/feed/media/limit'] * (params[:page] - 1) %>
- $limit: <%= config['/feed/media/limit'] * params[:page] %>
